<div id="page">
  <section>
    <div class="tiptap max-w-screen-xl px-4 py-8 mx-auto sm:px-6 sm:py-12 lg:px-8">
      <h1><strong>{{content.name}}</strong></h1>
      <div class="mt-10 border-t border-gray-100"></div>
      <div v-html="content.content" class="mt-10"></div>
    </div>
  </section>
</div>

<script>
  Vue.createApp({
    data() {
      return {
        content: ref([])
      }
    },

    mounted() {
      const path = window.location.pathname
      this.pageContent(path.substring(1))
    },

    methods: {
      async pageContent(slug) {
        const response = await fetch(`/api/pages/${slug}`, {
          credentials: 'include',
          method: 'GET'
        })
        this.resp = await response.json()
        if (this.resp.success) {
          this.content = this.resp.result
        }
      }
    }
  }).mount('#page')
</script>